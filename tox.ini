[tox]
envlist = py312-ha

[testenv]
skip_install = true
passenv = HOME,CI,GITHUB_*,PYTEST_*,PIP_INDEX_URL,PIP_EXTRA_INDEX_URL
setenv =
    PYTHONWARNINGS=default

[testenv:py312-ha]
basepython = python3.12
setenv =
    {[testenv]setenv}
    PIP_ONLY_BINARY=PyYAML
deps =
    pytest==8.2.2
    pytest-asyncio==0.24.0
    pytest-homeassistant-custom-component
    PyYAML==6.0.2
    homeassistant
commands =
    pytest -q